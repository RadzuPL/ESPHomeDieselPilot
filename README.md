# üåê Language / Jƒôzyk

**[üá¨üáß English](#english)** | **[üáµüá± Polski](#polish)**

---

<a name="english"></a>
## üá¨üáß ENGLISH VERSION

‚ö†Ô∏è **IMPORTANT:** 
Use at your own risk!!!!

### üìñ Description

As stated by the author of the original project:
**Diesel Pilot** is a full-fledged ESP32 controller for Chinese diesel heaters communicating via 433 MHz RF. The project allows full control of the heater via a web browser, MQTT, and integration with Home Assistant.

I decided that I didn't want an externally managed device with a separate compiler/toolchain, as this can be achieved using ESPHome. This project is an attempt to adapt that concept.

üîß Compatibility
I will not comment on something I haven't had the opportunity to verify personally.
I refer you to the original project author for details: https://github.com/PPTG/DieselPilot?tab=readme-ov-file#-compatibility

### ‚ú® Features
- Web GUI - The original Web GUI was removed (or rather, I didn't attempt to recreate it) because I believe it is unnecessary when utilizing ESPHome. ESPHome has its own native Web GUI, which should cover basic functions (I will clarify this after the initial test run).
- Display - I do not plan to mount the device where it is visible; I have the original heater panel there, and all parameters are available via Home Assistant, so I don't see a need for a display. However, it can be easily added to ESPHome. If I don't forget, I might add it in a commented-out form to the code at a later stage.
- WiFi - By default, an ESP32 with ESPHome connects via WiFi, and that is how it works here. In case the network is not detected, a fallback AP is created.
- MQTT - Not implemented in this adaptation because ESPHome connects via the Native API, ensuring full integration with Home Assistant this way.
- Pairing - Currently missing, as the AI apparently didn't add it for me. I don't have the hardware to test it yet. Ultimately, I would like to add some form of pairing to the code.

### ‚öôÔ∏è Changes
Release v0.1
- The first YAML version that compiles.
- This code has not yet been flashed to the ESP as I am waiting for the RF module.

Release v0
- A raw version generated by AI based on the original project files.
- Not even run through the compiler to check for errors yet, and knowing generated code, there will likely be plenty.

Files:

- **DieselPilot.yaml** - Main ESPHome configuration template. Import this file via "New device" -> "Import from File". Customize all required elements such as network credentials, IP addresses, etc., to suit your needs.
- **diesel_pilot_component.h** - File generated based on the Diesel Pilot project. Place this file next to the YAML file in ESPHome.

The template assumes the use of a secrets.yaml file, which can be opened using the "SECRETS" button at the top of the ESPHome page.


```
# === NETWORK CONFIGURATION ===

wifi_ssid: "My_Network"
wifi_password: "xxxxxxxx"
wifi2_ssid: "My_Network_2"
wifi2_password: ""xxxxxxxx""
ap_pw: ""xxxxxxxx""
gateway_ip: "192.168.1.1"
subnet_mask: "255.255.255.0"
dns_primary: "192.168.1.1"
dns_secondary: "1.1.1.1"

# === DEVICE IP ADDRESSES ===

diesel_heater_ip:     "192.168.1.50"

# === OTA & API SECURITY ===

ota_password: "xxxxxxxx"
encryption_key: ""xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
web_username: "admin"
web_password: "xxxxxxxx"
```

### üõ†Ô∏è Required Hardware

| Component | Model | Notes |
|-----------|-------|-------|
| Microcontroller | ESP32 |
| RF Transceiver | CC1101 | 433 MHz |

**CC1101 Wiring:**
```
ESP32    CC1101
-----    ------
GPIO4  - GDO2
GPIO18 - SCK
GPIO19 - MISO
GPIO23 - MOSI
GPIO5  - CSn
3.3V   - VCC
GND    - GND
```

### üôè Acknowledgments
- **[PPTG/DieselPilot](https://github.com/PPTG/DieselPilot)** - the project on the basis of which the communication file was created.

<a name="polish"></a>
## üáµüá± WERSJA POLSKA

‚ö†Ô∏è **WA≈ªNE:** 
U≈ºywasz na w≈Çasne ryzyko !!!!

### üìñ Opis

Jak pisze autor oryginalnego projektu: 
**Diesel Pilot** to pe≈Çnoprawny kontroler ESP32 dla chi≈Ñskich ogrzewaczy diesla komunikujƒÖcych siƒô przez RF 433 MHz. Projekt umo≈ºliwia pe≈ÇnƒÖ kontrolƒô ogrzewacza przez przeglƒÖdarkƒô internetowƒÖ, MQTT oraz integracjƒô z Home Assistant.

Ja stwierdzi≈Çem ≈ºe nie chcƒô by by≈Ç to zewnƒôtrznie zarzƒÖdzane urzƒÖdzenie z osobnym kompilatorem gdy≈º mo≈ºna to zrobiƒá za pomocƒÖ ESP Home i ten projekt jest pr√≥bƒÖ adaptacji tego pomys≈Çu.

### üîß Kompatybilno≈õƒá:
Nie bƒôdƒô wypowiada≈Ç siƒô na temat czego≈õ czego nie mia≈Çem mo≈ºliwo≈õci sprawdziƒá. 
Odsy≈Çam do autora oryginalnego projektu: https://github.com/PPTG/DieselPilot?tab=readme-ov-file#-kompatybilno%C5%9B%C4%87

### ‚ú® Funkcje
- Web GUI - oryginalne Web GUI zosta≈Ço skasowane (a w zasadzie nie podjƒÖ≈Çem p√≥by jego odtworzenia) bo uwa≈ºam ≈ºe jest niepotrzebne przy wyko≈ºystaniu ESP Home. ESP Home ma swoje Web GUI w kt√≥rym powinno daƒá siƒô zrobiƒá podstawowe funkcje (doprecyzujƒô po pr√≥bie uruchomienia).  
- Wy≈õwietlacz - nie planujƒô wyciƒÖgaƒá urzƒÖdzenia na pierwszy widok, tam mam oryginalny panel ogrzewacza, a wszelkie parametry sƒÖ dostƒôpne z poziomu HA nie widzƒô wiƒôc potrzeby zastosowania wy≈õwietlacza ale w bardzo ≈Çatwy spos√≥b mo≈ºna go dodaƒá do EPS Home. Je≈õli nie zapomnƒô to mo≈ºe dodam go w zakomentowanej formie do kodu na p√≥≈∫niejszym etapie.
- WiFi - domy≈õlnie ESP32 z ESP Home ≈ÇƒÖczy siƒô po WiFi i tak te≈º tu to dzia≈Ça. W przypadku nie wykrycia sieci jest stawiany awaryny AP.
- MQTT - nie zosta≈Ço zaimplementowane w tej adaptacji gdy≈º ESP Home ≈ÇƒÖczy siƒô po API i w ten spos√≥b jest zapewniana pe≈Çna integracja z Home Assistantem.
- Parowanie - na chwilƒô obecnƒÖ go nie ma bo mi go AI chyba nie doda≈Ço. Nie mam jeszcze sprzƒôtu ≈ºeby to testowaƒá. Docelowo chia≈Ç bym dodaƒá do kodu jaki≈õ rodzaj parowania.

### ‚öôÔ∏è Changes

Wydanie v0.1
- pierwsza wersja yaml kt√≥ra siƒô kompiluje
- ten kod nadal nie zosta≈Ç nawet wgrany do ESP gdy≈º czekam na modu≈Ç radiowy

Wydanie v0
- to wersja na czysto wygenerowana przez AI na podstawie plik√≥w oryginalnego projetu
- nie zosta≈Ço to jeszcze nawet wrzucone do kompilatora ≈ºeby sprawdziƒá b≈Çƒôdy a na ile znam generowane kody bƒôdzie tego sporo

Pliki:
- **DieselPilot.yaml** - G≈Ç√≥wny szablon konfiguracyjny ESP Home. Zaimportuj plik poprzez "New device" -> "Import from File". Dostosuj do swoich potrzeb wszystkie wymagane elementy takie jak dane do sieci, adresy IP itp.
- **diesel_pilot_component.h** - Plik wygenerowany na podstawie projektu Diesel Pilot. Wrzuƒá ten plik obok YAML w ESPHome.

Szablon zak≈Çada u≈ºycie pliku 'secrets.yaml' kt√≥ry mo≈ºna otworzyƒá przyciskiem "SECRETS" na g√≥rze strony ESP Home
```
# === NETWORK CONFIGURATION ===

wifi_ssid: "My_Network"
wifi_password: "xxxxxxxx"
wifi2_ssid: "My_Network_2"
wifi2_password: ""xxxxxxxx""
ap_pw: ""xxxxxxxx""
gateway_ip: "192.168.1.1"
subnet_mask: "255.255.255.0"
dns_primary: "192.168.1.1"
dns_secondary: "1.1.1.1"

# === DEVICE IP ADDRESSES ===

diesel_heater_ip:     "192.168.1.50"

# === OTA & API SECURITY ===

ota_password: "xxxxxxxx"
encryption_key: ""xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
web_username: "admin"
web_password: "xxxxxxxx"
```

### üõ†Ô∏è Wymagany sprzƒôt

| Komponent | Model | Uwagi |
|-----------|-------|-------|
| Mikrokontroler | ESP32 
| Transceiver RF | CC1101 | 433 MHz |

**Pod≈ÇƒÖczenie CC1101:**
```
ESP32    CC1101
-----    ------
GPIO4  - GDO2
GPIO18 - SCK
GPIO19 - MISO
GPIO23 - MOSI
GPIO5  - CSn
3.3V   - VCC
GND    - GND
```

### üôè Podziƒôkowania
- **[PPTG/DieselPilot](https://github.com/PPTG/DieselPilot)** - projekt na podstawie kt√≥rego powsta≈Ç plik komunikacyjny.
